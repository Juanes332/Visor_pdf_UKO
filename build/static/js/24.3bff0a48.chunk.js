(this["webpackJsonpmatx-react"]=this["webpackJsonpmatx-react"]||[]).push([[24],{512:function(e,t,n){"use strict";n.r(t);var c=n(528),i=n(542),a=n(177),r=n(289),o=n(74),s=n(81),l=n(50),d=n(118),j=n(1),b=n.n(j),u=n(196),h=n.n(u),x=n(23),p=n(31),O=n(2),f=function(e){var t=e.children,n=Object(p.a)(),c=Object(l.a)().settings,a=c.themes[c.layout1Settings.leftSidebar.theme]||n;return Object(O.jsx)(i.a,{theme:a,children:t})},m=n(9),g=n(481),v=n(711),y=n(99),w=n(195),S=n(5),k=n(287),I=n(52),C=Object(S.a)(k.a)((function(){return{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 18px 20px 29px"}})),N=Object(S.a)(I.e)((function(e){return{fontSize:18,marginLeft:".5rem",display:"compact"===e.mode?"none":"block"}})),T=function(e){var t=e.children,n=Object(l.a)().settings.layout1Settings.leftSidebar.mode;return Object(O.jsxs)(C,{children:[Object(O.jsx)(k.a,{display:"flex",alignItems:"center",children:Object(O.jsx)(N,{mode:n,className:"sidenavHoverShow",children:Object(O.jsx)("p",{style:{color:"#ff9e43",margin:"0px"},children:"Firma Ya"})})}),Object(O.jsx)(k.a,{className:"sidenavHoverShow",sx:{display:"compact"===n?"none":"block"},children:t||null})]})},L=n(7),R=n(274),_=Object(a.a)(h.a)((function(){return{paddingLeft:"1rem",paddingRight:"1rem",position:"relative"}})),D=Object(a.a)("div")((function(e){var t=e.theme;return Object(L.a)({position:"fixed",top:0,left:0,bottom:0,right:0,width:"100vw",background:"rgba(0, 0, 0, 0.54)",zIndex:-1},t.breakpoints.up("lg"),{display:"none"})})),A=function(e){var t=e.children,n=Object(l.a)(),c=n.settings,i=n.updateSettings;return Object(O.jsxs)(j.Fragment,{children:[Object(O.jsxs)(_,{options:{suppressScrollX:!0},children:[t,Object(O.jsx)(s.h,{items:R.a})]}),Object(O.jsx)(D,{onClick:function(){return function(e){var t=c.activeLayout+"Settings",n=c[t];i(Object(m.a)(Object(m.a)({},c),{},Object(L.a)({},t,Object(m.a)(Object(m.a)({},n),{},{leftSidebar:Object(m.a)(Object(m.a)({},n.leftSidebar),e)}))))}({mode:"close"})}})]})},E=Object(a.a)(r.a)((function(e){var t=e.theme,n=e.width,c=e.primaryBg,i=e.bgImgURL;return{position:"fixed",top:0,left:0,height:"100vh",width:n,boxShadow:y.b[8],backgroundRepeat:"no-repeat",backgroundPosition:"top",backgroundSize:"cover",zIndex:111,overflow:"hidden",color:t.palette.text.primary,transition:"all 250ms ease-in-out",backgroundImage:"linear-gradient(to bottom, rgba(".concat(c,", 0.96), rgba(").concat(c,", 0.96)), url(").concat(i,")"),"&:hover":{width:d.a,"& .sidenavHoverShow":{display:"block"},"& .compactNavItem":{width:"100%",maxWidth:"100%","& .nav-bullet":{display:"block"},"& .nav-bullet-text":{display:"none"}}}}})),z=Object(a.a)(r.a)((function(){return{height:"100%",display:"flex",flexDirection:"column"}})),F=function(){var e=Object(o.a)(),t=Object(l.a)(),n=t.settings,c=t.updateSettings,i=n.layout1Settings.leftSidebar,a=i.mode,r=i.bgImgURL,s=Object(w.a)(e.palette.primary.main);return Object(O.jsx)(E,{bgImgURL:r,primaryBg:s,width:"compact"===a?d.b:d.a,children:Object(O.jsxs)(z,{children:[Object(O.jsx)(T,{children:Object(O.jsx)(g.a,{smDown:!0,children:Object(O.jsx)(v.a,{onChange:function(){var e;e={mode:"compact"===a?"full":"compact"},c({layout1Settings:{leftSidebar:Object(m.a)({},e)}})},checked:"full"!==i.mode,color:"secondary",size:"small"})})}),Object(O.jsx)(A,{})]})})},B=b.a.memo(F),G=n(544),W=n(712),H=n(290),M=n(540),P=n(37),U=n(53),J=n(13),X=n(35),Y=n.n(X),$=function(e,t){switch(t.type){case"LOAD_NOTIFICATIONS":case"DELETE_NOTIFICATION":case"CLEAR_NOTIFICATIONS":return Object(m.a)(Object(m.a)({},e),{},{notifications:t.payload});default:return Object(m.a)({},e)}},q=Object(j.createContext)({notifications:[],deleteNotification:function(){},clearNotifications:function(){},getNotifications:function(){},createNotification:function(){}}),K=function(e){e.settings;var t=e.children,n=Object(j.useReducer)($,[]),c=Object(J.a)(n,2),i=c[0],a=c[1],r=function(){var e=Object(U.a)(Object(P.a)().mark((function e(t){var n;return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.post("/api/notification/delete",{id:t});case 3:n=e.sent,a({type:"DELETE_NOTIFICATION",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(U.a)(Object(P.a)().mark((function e(){var t;return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.post("/api/notification/delete-all");case 3:t=e.sent,a({type:"CLEAR_NOTIFICATIONS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(U.a)(Object(P.a)().mark((function e(){var t;return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.get("/api/notification");case 3:t=e.sent,a({type:"LOAD_NOTIFICATIONS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(U.a)(Object(P.a)().mark((function e(t){var n;return Object(P.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.a.post("/api/notification/add",{notification:t});case 3:n=e.sent,a({type:"CREATE_NOTIFICATION",payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.useEffect)((function(){s()}),[]),Object(O.jsx)(q.Provider,{value:{notifications:i.notifications,deleteNotification:r,clearNotifications:o,getNotifications:s,createNotification:l},children:t})},Q=q,V=n(191),Z=n(43),ee=n(1006),te=n(1029),ne=n(493),ce=n(486),ie=function(){return Object(j.useContext)(Q)},ae=Object(a.a)("div")((function(){return{padding:"16px",marginBottom:"16px",display:"flex",alignItems:"center",height:d.c,boxShadow:y.b[6],"& h5":{marginLeft:"8px",marginTop:0,marginBottom:0,fontWeight:"500"}}})),re=Object(a.a)(r.a)((function(e){return{position:"relative","&:hover":{"& .messageTime":{display:"none"},"& .deleteButton":{opacity:"1"}},"& .messageTime":{color:e.theme.palette.text.secondary},"& .icon":{fontSize:"1.25rem"}}})),oe=Object(a.a)(G.a)((function(e){e.theme;return{opacity:"0",position:"absolute",right:5,marginTop:9,marginRight:"24px",background:"rgba(0, 0, 0, 0.01)"}})),se=Object(a.a)("div")((function(e){return{padding:"12px 8px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"rgba(0, 0, 0, 0.01)","& small":{fontWeight:"500",marginLeft:"16px",color:e.theme.palette.text.secondary}}})),le=Object(a.a)("span")((function(e){return{fontWeight:"500",marginLeft:"16px",color:e.theme.palette.text.secondary}})),de=function(e){var t=e.container,n=Object(l.a)().settings,c=Object(o.a)().palette.text.secondary,a=b.a.useState(!1),s=Object(J.a)(a,2),u=s[0],h=s[1],x=ie(),p=x.deleteNotification,f=x.clearNotifications,m=x.notifications,g=function(){h(!u)},v=Object(o.a)().palette.text.primary;return Object(O.jsxs)(j.Fragment,{children:[Object(O.jsx)(G.a,{onClick:g,children:Object(O.jsx)(ee.a,{color:"secondary",badgeContent:null===m||void 0===m?void 0:m.length,children:Object(O.jsx)(H.a,{sx:{color:v},children:"notifications"})})}),Object(O.jsx)(i.a,{theme:n.themes[n.activeTheme],children:Object(O.jsx)(te.a,{width:"100px",container:t,variant:"temporary",anchor:"right",open:u,onClose:g,ModalProps:{keepMounted:!0},children:Object(O.jsxs)(r.a,{sx:{width:d.a},children:[Object(O.jsxs)(ae,{children:[Object(O.jsx)(H.a,{color:"primary",children:"notifications"}),Object(O.jsx)("h5",{children:"Notifications"})]}),null===m||void 0===m?void 0:m.map((function(e){return Object(O.jsxs)(re,{children:[Object(O.jsx)(oe,{size:"small",className:"deleteButton",onClick:function(){return p(e.id)},children:Object(O.jsx)(H.a,{className:"icon",children:"clear"})}),Object(O.jsx)(Z.b,{to:"/".concat(e.path),onClick:g,style:{textDecoration:"none"},children:Object(O.jsxs)(ne.a,{sx:{mx:2,mb:3},elevation:3,children:[Object(O.jsxs)(se,{children:[Object(O.jsxs)(r.a,{display:"flex",children:[Object(O.jsx)(H.a,{className:"icon",color:e.icon.color,children:e.icon.name}),Object(O.jsx)(le,{children:e.heading})]}),Object(O.jsxs)(I.d,{className:"messageTime",children:[Object(w.b)(new Date(e.timestamp)),"ago"]})]}),Object(O.jsxs)(r.a,{sx:{px:2,pt:1,pb:2},children:[Object(O.jsx)(I.c,{sx:{m:0},children:e.title}),Object(O.jsx)(I.d,{sx:{color:c},children:e.subtitle})]})]})})]},e.id)})),!(null===m||void 0===m||!m.length)&&Object(O.jsx)(r.a,{sx:{color:c},children:Object(O.jsx)(ce.a,{onClick:f,children:"Clear Notifications"})})]})})})]})},je=n(59),be=n(276),ue=Object(a.a)(G.a)((function(e){var t=e.theme;return{"& span":{color:t.palette.text.primary},"& #disable":{color:t.palette.text.disabled}}})),he=Object(a.a)("div")((function(e){e.theme;return{height:"100%",display:"flex",flexDirection:"column",width:d.a}})),xe=Object(a.a)("div")((function(){return{padding:"4px",paddingLeft:"16px",display:"flex",alignItems:"center",boxShadow:y.b[6],height:d.c,"& h5":{marginTop:0,marginBottom:0,marginLeft:"16px",fontWeight:"500"}}})),pe=Object(a.a)("div")((function(){return{display:"flex",alignItems:"center",padding:"8px 8px",transition:"background 300ms ease","&:hover":{background:"rgba(0,0,0,0.01)"}}})),Oe=Object(a.a)("img")((function(){return{width:48}})),fe=Object(a.a)("div")((function(){return{marginRight:"8",textAlign:"center",flexGrow:1,display:"flex",flexDirection:"column","& h6":{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",display:"block",width:120,marginBottom:"4px"}}})),me=!1;var ge=function(e){var t=e.container,n=Object(j.useState)(0),c=Object(J.a)(n,2),a=c[0],s=c[1],d=Object(j.useState)(!1),b=Object(J.a)(d,2),u=b[0],h=b[1],p=Object(be.b)(),f=Object(x.f)(),m=Object(V.a)().user,g=Object(be.c)((function(e){return e.ecommerce})).cartList,v=Object(l.a)().settings,y=Object(o.a)().palette.text.secondary;me||(p(Object(je.j)(m.id)),me=!0);var w=function(){h(!u)};Object(j.useEffect)((function(){var e=0;g.forEach((function(t){e+=t.price*t.amount})),s(e)}),[g]);var S=Object(o.a)().palette.text.primary;return Object(O.jsxs)(j.Fragment,{children:[Object(O.jsx)(G.a,{onClick:w,children:Object(O.jsx)(ee.a,{color:"secondary",badgeContent:g.length,children:Object(O.jsx)(H.a,{sx:{color:S},children:"shopping_cart"})})}),Object(O.jsx)(i.a,{theme:v.themes[v.activeTheme],children:Object(O.jsx)(te.a,{container:t,variant:"temporary",anchor:"right",open:u,onClose:w,ModalProps:{keepMounted:!0},children:Object(O.jsxs)(he,{children:[Object(O.jsxs)(xe,{children:[Object(O.jsx)(H.a,{color:"primary",children:"shopping_cart"}),Object(O.jsx)("h5",{children:"Cart"})]}),Object(O.jsx)(r.a,{flexGrow:1,overflow:"auto",children:g.map((function(e){return Object(O.jsxs)(pe,{children:[Object(O.jsxs)(r.a,{mr:"4px",display:"flex",flexDirection:"column",children:[Object(O.jsx)(ue,{size:"small",onClick:function(){return p(Object(je.k)(m.id,e.id,e.amount+1))},children:Object(O.jsx)(H.a,{sx:{cursor:"pinter"},children:"keyboard_arrow_up"})}),Object(O.jsx)(ue,{disabled:!(e.amount-1),size:"small",onClick:function(){return p(Object(je.k)(m.id,e.id,e.amount-1))},children:Object(O.jsx)(H.a,{id:!(e.amount-1)&&"disable",children:"keyboard_arrow_down"})})]}),Object(O.jsx)(r.a,{mr:1,children:Object(O.jsx)(Oe,{src:e.imgUrl,alt:e.title})}),Object(O.jsxs)(fe,{children:[Object(O.jsx)(I.b,{children:e.title}),Object(O.jsxs)(I.d,{sx:{color:y},children:["$",e.price," x ",e.amount]})]}),Object(O.jsx)(ue,{size:"small",onClick:function(){return p(Object(je.i)(m.userId,e.id))},children:Object(O.jsx)(H.a,{fontSize:"small",children:"clear"})})]},e.id)}))}),Object(O.jsxs)(ce.a,{sx:{width:"100%",borderRadius:0},variant:"contained",color:"primary",onClick:function(){a>0&&(f("/ecommerce/checkout"),h(!1))},children:["Checkout ($",a.toFixed(2),")"]})]})})})]})},ve=Object(a.a)(G.a)((function(e){return{color:e.theme.palette.text.primary}})),ye=Object(a.a)("div")((function(e){e.theme;return{top:0,zIndex:96,transition:"all 0.3s ease",boxShadow:y.b[8],height:d.c}})),we=Object(a.a)(r.a)((function(e){var t,n=e.theme;return t={padding:"8px",paddingLeft:18,paddingRight:20,height:"100%",display:"flex",alignItems:"center",justifyContent:"space-between",background:n.palette.primary.main},Object(L.a)(t,n.breakpoints.down("sm"),{paddingLeft:16,paddingRight:16}),Object(L.a)(t,n.breakpoints.down("xs"),{paddingLeft:14,paddingRight:16}),t})),Se=Object(a.a)(r.a)((function(){return{display:"flex",alignItems:"center",cursor:"pointer",borderRadius:24,padding:4,"& span":{margin:"0 8px"}}})),ke=Object(a.a)(W.a)((function(e){return{display:"flex",alignItems:"center",minWidth:185,"& a":{width:"100%",display:"flex",alignItems:"center",textDecoration:"none"},"& span":{marginRight:"10px",color:e.theme.palette.text.primary}}})),Ie=Object(a.a)("div")((function(e){var t=e.theme;return Object(L.a)({display:"inherit"},t.breakpoints.down("md"),{display:"none !important"})})),Ce=function(){var e=Object(o.a)(),t=Object(l.a)(),n=t.settings,i=t.updateSettings,a=Object(V.a)(),d=a.logout,j=a.user,b=Object(c.a)(e.breakpoints.down("md"));return Object(O.jsx)(ye,{children:Object(O.jsxs)(we,{children:[Object(O.jsxs)(r.a,{display:"flex",children:[Object(O.jsx)(ve,{onClick:function(){var e,t,c=n.layout1Settings;e=b?"close"===c.leftSidebar.mode?"mobile":"close":"full"===c.leftSidebar.mode?"close":"full",t={mode:e},i({layout1Settings:{leftSidebar:Object(m.a)({},t)}})},children:Object(O.jsx)(H.a,{children:"menu"})}),Object(O.jsxs)(Ie,{children:[Object(O.jsx)(ve,{children:Object(O.jsx)(H.a,{children:"mail_outline"})}),Object(O.jsx)(ve,{children:Object(O.jsx)(H.a,{children:"web_asset"})}),Object(O.jsx)(ve,{children:Object(O.jsx)(H.a,{children:"star_outline"})})]})]}),Object(O.jsxs)(r.a,{display:"flex",alignItems:"center",children:[Object(O.jsx)(s.e,{}),Object(O.jsx)(K,{children:Object(O.jsx)(de,{})}),Object(O.jsx)(ge,{}),Object(O.jsxs)(s.d,{menuButton:Object(O.jsxs)(Se,{children:[Object(O.jsx)(g.a,{xsDown:!0,children:Object(O.jsxs)(I.e,{children:["Hi ",Object(O.jsx)("strong",{children:j.name})]})}),Object(O.jsx)(M.a,{src:j.avatar,sx:{cursor:"pointer"}})]}),children:[Object(O.jsx)(ke,{children:Object(O.jsxs)(Z.b,{to:"/",children:[Object(O.jsx)(H.a,{children:" home "}),Object(O.jsx)(I.e,{children:" Home "})]})}),Object(O.jsx)(ke,{children:Object(O.jsxs)(Z.b,{to:"/page-layouts/user-profile",children:[Object(O.jsx)(H.a,{children:" person "}),Object(O.jsx)(I.e,{children:" Profile "})]})}),Object(O.jsxs)(ke,{children:[Object(O.jsx)(H.a,{children:" settings "}),Object(O.jsx)(I.e,{children:" Settings "})]}),Object(O.jsxs)(ke,{onClick:d,children:[Object(O.jsx)(H.a,{children:" power_settings_new "}),Object(O.jsx)(I.e,{children:" Logout "})]})]})]})]})})},Ne=b.a.memo(Ce),Te=Object(a.a)(r.a)((function(e){return{display:"flex",background:e.theme.palette.background.default}})),Le=Object(a.a)(r.a)((function(){return{height:"100%",display:"flex",overflowY:"auto",overflowX:"hidden",flexDirection:"column",justifyContent:"space-between"}})),Re=Object(a.a)(h.a)((function(){return{height:"100%",position:"relative",display:"flex",flexGrow:"1",flexDirection:"column"}})),_e=Object(a.a)(r.a)((function(e){return{height:"100vh",display:"flex",flexGrow:"1",flexDirection:"column",verticalAlign:"top",marginLeft:e.width,position:"relative",overflow:"hidden",transition:"all 0.3s ease",marginRight:e.secondarySidebar.open?50:0}})),De=function(){var e=Object(l.a)(),t=e.settings,n=e.updateSettings,a=t.layout1Settings,b=t.secondarySidebar,u=t.themes[a.topbar.theme],h=a.leftSidebar,p=h.mode,m=h.show,g=function(){switch(p){case"full":return d.a;case"compact":return d.b;default:return"0px"}}(),v=Object(o.a)(),y=Object(c.a)(v.breakpoints.down("md")),w=Object(j.useRef)({isMdScreen:y,settings:t}),S="theme-".concat(v.palette.type);return Object(j.useEffect)((function(){var e=w.current.settings,t=e.layout1Settings.leftSidebar.mode;e.layout1Settings.leftSidebar.show&&n({layout1Settings:{leftSidebar:{mode:y?"close":t}}})}),[y]),Object(O.jsxs)(Te,{className:S,children:[m&&"close"!==p&&Object(O.jsx)(f,{children:Object(O.jsx)(B,{})}),Object(O.jsxs)(_e,{width:g,secondarySidebar:b,children:[a.topbar.show&&a.topbar.fixed&&Object(O.jsx)(i.a,{theme:u,children:Object(O.jsx)(Ne,{fixed:!0,className:"elevation-z8"})}),t.perfectScrollbar&&Object(O.jsxs)(Re,{children:[a.topbar.show&&!a.topbar.fixed&&Object(O.jsx)(i.a,{theme:u,children:Object(O.jsx)(Ne,{})}),Object(O.jsx)(r.a,{flexGrow:1,position:"relative",children:Object(O.jsx)(s.f,{children:Object(O.jsx)(x.b,{})})})]}),!t.perfectScrollbar&&Object(O.jsxs)(Le,{children:[a.topbar.show&&!a.topbar.fixed&&Object(O.jsx)(i.a,{theme:u,children:Object(O.jsx)(Ne,{})}),Object(O.jsx)(r.a,{flexGrow:1,position:"relative",children:Object(O.jsx)(s.f,{children:Object(O.jsx)(x.b,{})})})]})]})]})};t.default=b.a.memo(De)}}]);
//# sourceMappingURL=24.3bff0a48.chunk.js.map